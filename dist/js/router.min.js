(function(){function c(e,n){try{const r=e.split(n)[1];if(!r)return null;const t=r.split("/")[0];return t?decodeURIComponent(t):null}catch(r){return null}}const s=[{name:"home",match:e=>e==="/"||e==="/home"||e==="/library",exec:(e,n)=>e.renderHome(n)},{name:"post",match:e=>e.startsWith("/post/"),exec:(e,n,r)=>{const t=typeof r=="string"?r:window.location.pathname,o=c(t,"/post/")||"";e.renderPost(o)}},{name:"archives",match:e=>e==="/archives"||e==="/archive",exec:e=>e.renderArchives()},{name:"post_index",match:e=>e==="/post",exec:e=>e.renderArchives()},{name:"dashboard",match:e=>e==="/dashboard",requiresAuth:!0,exec:e=>e.renderDashboard()},{name:"writer",match:e=>e==="/writer"||e.startsWith("/writer/"),requiresAuth:!0,exec:(e,n,r)=>{const t=typeof r=="string"?r:window.location.pathname,o=c(t,"/writer/")||null;e.renderWriter(o)}},{name:"login",match:e=>e==="/login",exec:e=>e.renderLoginModal()}],a={resolve(e){const n=String(e||"/").split("?")[0];for(const r of s)try{if(r.match(n))return{name:r.name,exec:(t,o)=>r.exec(t,o,n),requiresAuth:!!r.requiresAuth}}catch(t){}return{name:"not_found",exec:r=>r.render404()}}};window.Router=a})();
