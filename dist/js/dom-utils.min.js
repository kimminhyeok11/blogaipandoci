const DOM={$(n){return document.querySelector(n)},$$(n){return document.querySelectorAll(n)},create(n,e={},t=""){const r=document.createElement(n);return Object.entries(e).forEach(([i,l])=>{i==="className"?r.className=l:i==="innerHTML"?r.innerHTML=l:r.setAttribute(i,l)}),t&&(r.textContent=t),r},show(n,e={}){const t=typeof n=="string"?this.$(n):n;if(!t)return;const i={...{opacity:[0,1],translateY:[10,0],duration:300,easing:"easeOutQuad"},...e};t.style.display="block",window.anime?anime({targets:t,...i}):t.style.opacity="1"},hide(n,e={}){const t=typeof n=="string"?this.$(n):n;if(!t)return;const i={...{opacity:0,duration:200,easing:"easeInQuad",complete:()=>t.style.display="none"},...e};window.anime?anime({targets:t,...i}):(t.style.opacity="0",t.style.display="none")},buildUrl(n,e={}){const t=new URL(n,window.location.origin);return Object.entries(e).forEach(([r,i])=>{i!=null&&i!==""&&t.searchParams.set(r,i)}),t.pathname+t.search},openModal(n){const e=this.$(`#${n}`);if(!e)return;e.classList.remove("hidden"),this.show(e),document.body.classList.add("modal-open");try{["#app-container","#main-nav-container"].forEach(s=>{const a=document.querySelector(s);a&&!e.contains(a)&&(a.setAttribute("inert",""),a.setAttribute("aria-hidden","true"))})}catch(o){}const t=e.querySelector(".modal-content");if(t){t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true");const o=t.querySelector(".modal-title");o&&(o.id||(o.id=`${n}-title`),t.setAttribute("aria-labelledby",o.id));const s=t.querySelector(".modal-message, .modal-body");if(s&&!t.hasAttribute("aria-describedby")){const a=`${n}-desc`;s.id||(s.id=a),t.setAttribute("aria-describedby",s.id)}}e.__returnFocus=document.activeElement;const i=Array.from(e.querySelectorAll('a[href], area[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(o=>o.offsetParent!==null)[0]||t;i&&(i.hasAttribute("tabindex")||i.setAttribute("tabindex","-1"),i.focus({preventScroll:!0}));const l=o=>{if(o.key==="Tab"){const s=Array.from(e.querySelectorAll('a[href], area[href], button:not([disabled]), input:not([disabled]):not([type="hidden"]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(y=>y.offsetParent!==null);if(s.length===0)return;const a=s[0],f=s[s.length-1],d=document.activeElement;o.shiftKey?(d===a||!e.contains(d))&&(o.preventDefault(),f.focus()):d===f&&(o.preventDefault(),a.focus())}else o.key==="Escape"&&this.closeModal(n)};e.__onKeydown=l,e.addEventListener("keydown",l,!0);const c=e.querySelector(".modal-overlay"),u=o=>{o.target===c&&this.closeModal(n)};c&&(e.__onOverlayClick=u,c.addEventListener("click",u))},closeModal(n){const e=this.$(`#${n}`);if(!e)return;e.__onKeydown&&(e.removeEventListener("keydown",e.__onKeydown,!0),e.__onKeydown=null);const t=e.querySelector(".modal-overlay");t&&e.__onOverlayClick&&(t.removeEventListener("click",e.__onOverlayClick),e.__onOverlayClick=null),this.hide(e,{complete:()=>{e.classList.add("hidden"),document.body.classList.remove("modal-open");try{["#app-container","#main-nav-container"].forEach(l=>{const c=document.querySelector(l);c&&(c.removeAttribute("inert"),c.removeAttribute("aria-hidden"))})}catch(i){}const r=e.__returnFocus;r&&typeof r.focus=="function"&&r.focus({preventScroll:!0}),e.__returnFocus=null;try{e.removeAttribute("aria-modal")}catch(i){}}})},showLoading(n="body"){const e=typeof n=="string"?this.$(n):n;if(!e)return;const t=this.create("div",{className:"loading-spinner",style:"position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.6);backdrop-filter:saturate(120%) blur(2px);",innerHTML:`
                <div class="flex items-center justify-center p-8">
                    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"></div>
                    <span class="ml-3 text-gray-700">\uB85C\uB529 \uC911...</span>
                </div>
            `});return e.appendChild(t),t},hideLoading(n="body"){const e=typeof n=="string"?this.$(n):n,t=e==null?void 0:e.querySelector(".loading-spinner");t&&t.remove()}};window.DOM=DOM;
